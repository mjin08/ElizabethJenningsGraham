{"ast":null,"code":"var _jsxFileName = \"/Users/maggiejin/cse495/lizzie-graham/src/screens/AvatarScreen.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './AvatarScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst idleVideos = ['/assets/idle/idle1.mp4', '/assets/idle/idle2.mp4', '/assets/idle/idle3.mp4', '/assets/idle/idle4.mp4'];\nconst answerVideos = {\n  important: '/assets/answers/why-important.mp4',\n  job: '/assets/answers/job.mp4',\n  life: '/assets/answers/life.mp4',\n  family: '/assets/answers/family.mp4',\n  interests: '/assets/answers/interests.mp4',\n  legacy: '/assets/answers/legacy.mp4',\n  court: '/assets/answers/court.mp4',\n  impact: '/assets/answers/impact.mp4',\n  civic: '/assets/answers/civic.mp4',\n  suffrage: '/assets/answers/suffrage.mp4'\n};\nexport default function AvatarScreen() {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const navigate = useNavigate();\n  const videoRef = useRef(null);\n  const [currentSrc, setCurrentSrc] = useState(null);\n  const [isAnswerPlaying, setIsAnswerPlaying] = useState(false);\n  const questionId = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.questionId;\n  useEffect(() => {\n    // Pick a random idle video on mount\n    const pickIdle = () => idleVideos[Math.floor(Math.random() * idleVideos.length)];\n    setCurrentSrc(pickIdle());\n    setIsAnswerPlaying(false);\n  }, []);\n  useEffect(() => {\n    if (!questionId) return;\n\n    // When a question is present, play the answer video\n    const answer = answerVideos[questionId];\n    if (!answer) {\n      console.warn('No answer video for', questionId);\n      return;\n    }\n    setCurrentSrc(answer);\n    setIsAnswerPlaying(true);\n  }, [questionId]);\n  function handleEnded() {\n    if (isAnswerPlaying) {\n      // After the answer finishes, return to a random idle loop\n      const randomIdle = idleVideos[Math.floor(Math.random() * idleVideos.length)];\n      setCurrentSrc(randomIdle);\n      setIsAnswerPlaying(false);\n\n      // Optionally navigate back to menu after a delay\n      setTimeout(() => {\n        navigate('/');\n      }, 1500);\n    } else {\n      // idle loop: pick another idle and continue\n      const randomIdle = idleVideos[Math.floor(Math.random() * idleVideos.length)];\n      setCurrentSrc(randomIdle);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"avatar-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: currentSrc ? /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        src: currentSrc,\n        autoPlay: true,\n        playsInline: true,\n        onEnded: handleEnded,\n        muted: false,\n        loop: !isAnswerPlaying,\n        controls: false,\n        className: \"avatar-video\"\n      }, currentSrc, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n_s(AvatarScreen, \"KX7bkBAJnyvoNGMv7YOYEKw0w6Q=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = AvatarScreen;\nvar _c;\n$RefreshReg$(_c, \"AvatarScreen\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useLocation","useNavigate","jsxDEV","_jsxDEV","idleVideos","answerVideos","important","job","life","family","interests","legacy","court","impact","civic","suffrage","AvatarScreen","_s","_location$state","location","navigate","videoRef","currentSrc","setCurrentSrc","isAnswerPlaying","setIsAnswerPlaying","questionId","state","pickIdle","Math","floor","random","length","answer","console","warn","handleEnded","randomIdle","setTimeout","className","children","ref","src","autoPlay","playsInline","onEnded","muted","loop","controls","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/maggiejin/cse495/lizzie-graham/src/screens/AvatarScreen.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './AvatarScreen.css';\n\nconst idleVideos = [\n  '/assets/idle/idle1.mp4',\n  '/assets/idle/idle2.mp4',\n  '/assets/idle/idle3.mp4',\n  '/assets/idle/idle4.mp4'\n];\n\nconst answerVideos = {\n  important: '/assets/answers/why-important.mp4',\n  job: '/assets/answers/job.mp4',\n  life: '/assets/answers/life.mp4',\n  family: '/assets/answers/family.mp4',\n  interests: '/assets/answers/interests.mp4',\n  legacy: '/assets/answers/legacy.mp4',\n  court: '/assets/answers/court.mp4',\n  impact: '/assets/answers/impact.mp4',\n  civic: '/assets/answers/civic.mp4',\n  suffrage: '/assets/answers/suffrage.mp4'\n};\n\nexport default function AvatarScreen() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const videoRef = useRef(null);\n  const [currentSrc, setCurrentSrc] = useState(null);\n  const [isAnswerPlaying, setIsAnswerPlaying] = useState(false);\n\n  const questionId = location.state?.questionId;\n\n  useEffect(() => {\n    // Pick a random idle video on mount\n    const pickIdle = () => idleVideos[Math.floor(Math.random() * idleVideos.length)];\n    setCurrentSrc(pickIdle());\n    setIsAnswerPlaying(false);\n  }, []);\n\n  useEffect(() => {\n    if (!questionId) return;\n\n    // When a question is present, play the answer video\n    const answer = answerVideos[questionId];\n    if (!answer) {\n      console.warn('No answer video for', questionId);\n      return;\n    }\n\n    setCurrentSrc(answer);\n    setIsAnswerPlaying(true);\n  }, [questionId]);\n\n  function handleEnded() {\n    if (isAnswerPlaying) {\n      // After the answer finishes, return to a random idle loop\n      const randomIdle = idleVideos[Math.floor(Math.random() * idleVideos.length)];\n      setCurrentSrc(randomIdle);\n      setIsAnswerPlaying(false);\n\n      // Optionally navigate back to menu after a delay\n      setTimeout(() => {\n        navigate('/');\n      }, 1500);\n    } else {\n      // idle loop: pick another idle and continue\n      const randomIdle = idleVideos[Math.floor(Math.random() * idleVideos.length)];\n      setCurrentSrc(randomIdle);\n    }\n  }\n\n  return (\n    <div className=\"avatar-screen\">\n      <div className=\"video-container\">\n        {currentSrc ? (\n          <video\n            ref={videoRef}\n            key={currentSrc}\n            src={currentSrc}\n            autoPlay\n            playsInline\n            onEnded={handleEnded}\n            muted={false}\n            loop={!isAnswerPlaying}\n            controls={false}\n            className=\"avatar-video\"\n          />\n        ) : (\n          <div className=\"loading\">Loading...</div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}